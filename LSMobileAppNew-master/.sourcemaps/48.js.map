{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/services/cache_controller.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"48.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage)\r\n  ],\r\n  exports:[HomePage]\r\n})\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Platform, AlertController } from 'ionic-angular';\r\nimport { HomeService } from './service.home';\r\nimport { DatabaseService } from './db.service';\r\n\r\nimport { Params } from './params';\r\n\r\nexport class CacheController {\r\n\r\n\tprivate expiresInMinutes: number = 5;\r\n\r\n\tconstructor(\r\n\t\tpublic params: Params,\r\n\t\tpublic platform: Platform,\r\n\t\tprivate srvDb: DatabaseService,\r\n\t\tprivate srvHome: HomeService,\r\n\t\tpublic alertCtrl: AlertController) {\r\n\r\n\t}\r\n\r\n\tloadModules(action: string, page_id: string,\r\n\t\tmodule_names: string[], refreshCache: boolean = false): Promise<any[]> {\r\n\r\n\t\tif (!this.platform.is('cordova')) {\r\n\t\t\treturn this.fetchModuleDataFromAPI(action, page_id, module_names);\r\n\t\t}\r\n\r\n\t\tlet early = new Date();\r\n\t\tearly.setMinutes(early.getMinutes() + this.expiresInMinutes);\r\n\r\n\t\tlet sel_query = \"SELECT t2.Module_Json FROM tbl_Page_Module as t1 JOIN tbl_Module as t2 \";\r\n\t\tsel_query += \"on (t1.Module_ID = t2.Module_ID) where t2.Module_Json !='' AND t2.Date_Created <=? \";\r\n\t\tsel_query += \"AND t2.Module_Name IN (?)\";\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\tthis.srvDb.raw_query(sel_query, [early, module_names.join(\",\")]).then((res: any) => {\r\n\r\n\t\t\t\t// console.log(\"local data\", res);\r\n\t\t\t\tif (!refreshCache && res && res.rows.length > 0) {\r\n\t\t\t\t\tlet data: any[] = [];\r\n\t\t\t\t\tfor (var i = 0; i < res.rows.length; i++) {\r\n\t\t\t\t\t\tdata.push(JSON.parse(res.rows.item(i).Module_Json));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolve(data);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"fetching remote data\");\r\n\t\t\t\t\t// Fetch the Data from Remote API Start\r\n\t\t\t\t\tthis.fetchModuleDataFromAPI(action, page_id, module_names)\r\n\t\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\t\tresolve(data);\r\n\t\t\t\t\t\t}, err => {\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t}, err => {\r\n\t\t\t\tconsole.log(module_names + \" local db error \", err);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfetchModuleDataFromAPI(action: string, pageId: string, moduleNames: string[]): Promise<any> {\r\n\t\tconsole.log(\"fetchModuleDataFromAPI\", moduleNames);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tvar count = 0;\r\n\t\t\tthis.srvHome.getModules(action, pageId, moduleNames).take(1)\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\t(data: any) => {\r\n\t\t\t\t\t\t// console.log(\"fetchModuleDataFromAPI successful\", data);\r\n\t\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\tresolve(data.response);\r\n\t\t\t\t\t\t\t// Fetch the Data from Remote API End\r\n\t\t\t\t\t\t\t// Insert the remote response into local db\r\n\t\t\t\t\t\t\tthis.cacheFetchedData(pageId, data.response);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treject(Error(\"Data not found\"));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}, err => {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tif (count == 1) {\r\n\t\t\t\t\t\t\tthis.params.setIsInternetAvailable(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(\"error on \" + action, err);\r\n\t\t\t\t\t\t// show offline\r\n\r\n\t\t\t\t\t\treject(err);\r\n\r\n\t\t\t\t\t}, () => { }\r\n\t\t\t\t);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tcacheFetchedData(page_id: string, fetchedData: any[]) {\r\n\t\tconsole.log(\"cacheFetchedData\", fetchedData);\r\n\r\n\t\tlet module_json: any = fetchedData;\r\n\t\tlet result_page_id: number = -1;\r\n\r\n\t\t// 1.tbl_Page \r\n\t\tvar insert_query = \"INSERT OR REPLACE INTO tbl_Page(`Page_ID`,`Complete_Json_Data`,`Status`,`Date_Created`) \";\r\n\t\tinsert_query += \"VALUES(?,?,?,?); \";\r\n\r\n\t\tthis.srvDb.raw_query(insert_query, [page_id, JSON.stringify(fetchedData), 'active', new Date()]).then((page_result: any) => {\r\n\t\t\tconsole.log(\"INSERT ID -> \", page_result);\r\n\t\t\tif (!page_result) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tresult_page_id = page_result.insertId;\r\n\r\n\t\t\t// 2.tbl_modules \r\n\t\t\tfor (var i = 0; i < fetchedData.length; ++i) {\r\n\t\t\t\tlet keys = Object.keys(fetchedData[i]);\r\n\t\t\t\tconsole.log(\"cacheFetchedData keys\", keys);\r\n\r\n\t\t\t\tinsert_query = \"INSERT OR REPLACE INTO tbl_Module(`Module_Name`,`Module_Json`,`Status`,`Date_Created`) VALUES(?,?,?,?); \";\r\n\t\t\t\tthis.srvDb.raw_query(insert_query, [keys[0], JSON.stringify(module_json[i]), 'active', new Date()]).then((module_result: any) => {\r\n\t\t\t\t\tconsole.log(\"INSERT ID -> \", module_result);\r\n\r\n\t\t\t\t\t// 3.tbl_Page_Module \r\n\t\t\t\t\tinsert_query = \"INSERT OR REPLACE INTO tbl_Page_Module(`Page_ID`,`Module_ID`,`Status`,`Date_Created`) VALUES(?,?,?,?); \";\r\n\t\t\t\t\tthis.srvDb.raw_query(insert_query, [result_page_id, module_result.insertId, 'active', new Date()]).then((result: any) => {\r\n\t\t\t\t\t\tconsole.log(\"INSERT ID -> \", result);\r\n\t\t\t\t\t}, (error) => {\r\n\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}, (error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t}, (error) => {\r\n\t\t\tconsole.error(error);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tclearDatabaseOnLogout() {\r\n\t\tconsole.log(\"CacheController::clearDatabaseOnLogout \");\r\n\r\n\t\t// delete tbl_Page table data\r\n\t\tlet delete_page = \"DELETE FROM tbl_Page;\";\r\n\t\tthis.srvDb.raw_query(delete_page, []).then((page_result: any) => {\r\n\t\t\t// console.log(\"clearDatabaseOnLogout SUCCESS \", page_result );\r\n\t\t}, (error) => {\r\n\t\t\tconsole.error(error);\r\n\t\t});\r\n\t\t// tbl_Page_Module get_home_card\", \"get_account_details\", \"get_home_message\"\r\n\t\tlet tbl_Page_Module = \"DELETE FROM get_home_card; \";\r\n\t\tthis.srvDb.raw_query(tbl_Page_Module, []).then((module_result: any) => {\r\n\t\t\t// console.log(\"clearDatabaseOnLogout SUCCESS \", module_result );\r\n\t\t}, (error) => {\r\n\t\t\tconsole.error(error);\r\n\t\t});\r\n\t\tlet get_account_details = \"DELETE FROM get_account_details; \";\r\n\t\tthis.srvDb.raw_query(get_account_details, []).then((module_result: any) => {\r\n\t\t\t// console.log(\"clearDatabaseOnLogout SUCCESS \", module_result );\r\n\t\t}, (error) => {\r\n\t\t\tconsole.error(error);\r\n\t\t});\r\n\t\tlet get_home_message = \"DELETE FROM get_home_message; \";\r\n\t\tthis.srvDb.raw_query(get_home_message, []).then((module_result: any) => {\r\n\t\t\t// console.log(\"clearDatabaseOnLogout SUCCESS \", module_result );\r\n\t\t}, (error) => {\r\n\t\t\tconsole.error(error);\r\n\t\t});\r\n\r\n\r\n\t\tlet delete_module = \"DELETE FROM tbl_Module; \";\r\n\t\tthis.srvDb.raw_query(delete_module, []).then((module_result: any) => {\r\n\t\t\t// console.log(\"clearDatabaseOnLogout SUCCESS \", module_result );\r\n\t\t}, (error) => {\r\n\t\t\tconsole.error(error);\r\n\t\t});\r\n\r\n\t\t// delete tbl_Page_Module data\r\n\t\tlet delete_page_module = \"DELETE FROM tbl_Page_Module; \";\r\n\t\tthis.srvDb.raw_query(delete_page_module, []).then((result: any) => {\r\n\t\t\t// console.log(\"clearDatabaseOnLogout SUCCESS \", result);\r\n\t\t}, (error) => {\r\n\t\t\tconsole.error(error);\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cache_controller.ts","import { Component, ViewChild, NgZone, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport {\r\n    Platform, MenuController, Nav, NavController, LoadingController,\r\n    AlertController, ModalController, IonicPage, ItemSliding, Item\r\n} from 'ionic-angular';\r\nimport { Splashscreen, StatusBar } from 'ionic-native';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Params } from '../../services/params';\r\nimport { HomeService } from '../../services/service.home';\r\nimport { DatabaseService } from '../../services/db.service';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { CacheController } from '../../services/cache_controller';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { AppSoundProvider } from '../../providers/app-sound/app-sound';\r\n\r\ndeclare var webengage: any;\r\ndeclare var cordova: any;\r\nexport interface PageInterface {\r\n    title: string;\r\n    component: any;\r\n    icon: string;\r\n    index?: number;\r\n}\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-home',\r\n    templateUrl: 'home.html'\r\n})\r\nexport class HomePage implements OnInit {\r\n    userCodeMgm: any;\r\n    currentJWT: any;\r\n    @ViewChild('slidingItem') slideItm: ItemSliding;\r\n    @ViewChild('item') Itm: Item;\r\n    @ViewChild('btn-unread') btnRead: any;\r\n    versionNumber: Promise<any>;\r\n    accountDetails: any;\r\n    static userNick: any;\r\n    nickName: any;\r\n    ngOnInit(): void {\r\n        this.platform.ready().then((readySource) => {\r\n            var CurrentUserid = localStorage.getItem('appCurrentUserid');\r\n            if (this.platform.is('cordova')) {\r\n                webengage.engage();\r\n                webengage.track('Home Page', {\r\n                    \"UserId\": CurrentUserid,\r\n                });\r\n                webengage.screen(\"HomePage\")\r\n                webengage.notification.onDismiss((inAppData) => {\r\n                });\r\n                webengage.engage();\r\n            }\r\n        });\r\n    }\r\n    @ViewChild(Nav) nav: Nav;\r\n    @ViewChild(\"messageDetails\") messageDetails;\r\n\r\n    private cache: CacheController;\r\n    image_Data: any;\r\n    rootPage: any = 'TabsPage';\r\n    messageLoading = false;\r\n    imageUpdate: string = \"\"\r\n\r\n    private homeMessage: any;\r\n    public messages: any[] = [];\r\n\r\n    constructor(\r\n        public zone: NgZone,\r\n        public params: Params,\r\n        private iab: InAppBrowser,\r\n        private storage: Storage,\r\n        public platform: Platform,\r\n        public authSrv: AuthService,\r\n        private srvHome: HomeService,\r\n        public menu: MenuController,\r\n        private navCtrl: NavController,\r\n        private srvDb: DatabaseService,\r\n        private commonSrv: CommonService,\r\n        public cdRef: ChangeDetectorRef,\r\n        public appSound: AppSoundProvider,\r\n        private alertCtrl: AlertController,\r\n        private loadingCtrl: LoadingController,\r\n        private _modalCtrl: ModalController,\r\n\r\n    ) {\r\n\r\n\r\n        this.cache = new CacheController(params, platform, srvDb, srvHome, alertCtrl);\r\n\r\n        this.params.events.subscribe('home-data', data => {\r\n            console.log(data, \"home data\");\r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                if (data[i].get_home_message) {\r\n                    this.homeMessage = data[i].get_home_message.response;\r\n                    if (this.homeMessage.notification) {\r\n                        // this.messages = this.homeMessage.notification;\r\n                    }\r\n                    params.setUnreadCount(this.homeMessage.count);\r\n                }\r\n                if (data[i].get_account_details) {\r\n                    this.accountDetails = data[i].get_account_details.response;\r\n                    this.updateCode()\r\n                    this.updateNick()\r\n                    if (this.accountDetails.profile_image) {\r\n                        this.image_Data = this.accountDetails.profile_image\r\n                        return\r\n                    }\r\n                    else if (localStorage.getItem(\"imageUrl\")) {\r\n                        this.image_Data = localStorage.getItem(\"imageUrl\")\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n            console.log(\"HomePage::home data\", this.homeMessage, this.messages);\r\n        });\r\n        this.checkForNewRelease()\r\n    }\r\n    ionViewDidEnter() {\r\n        if (this.messageDetails) {\r\n            this.messageDetails.togglePopup();\r\n        }\r\n        setTimeout(() => {\r\n            this.getAnotherTokenLife()\r\n        }, 5000);\r\n\r\n        setInterval(() => { this.refreshToken(); }, 1200000)\r\n        setInterval(() => { this.getAnotherTokenLife(); }, 15000000)\r\n    }\r\n    ionViewDidLoad() {\r\n\r\n        console.log('ionViewDidLoad HomePage');\r\n        //set gloabal variable if for app is open already\r\n\r\n    }\r\n    refreshToken() {\r\n        this.currentJWT = \"\";\r\n        this.storage.get('user_session_token').then((dataToken) => {\r\n            this.currentJWT = dataToken;\r\n            console.log('token homepage', this.currentJWT)\r\n            CommonService.JWT = \"\";\r\n        })\r\n        setTimeout(() => {\r\n            if (this.currentJWT) {\r\n                this.authSrv.refreshJWT(this.currentJWT).subscribe((data) => {\r\n                    console.log(data)\r\n                    CommonService.JWT = data.session_token;\r\n                    this.commonSrv.updateJWT(data.session_token)\r\n                    this.storage.set('user_session_token', data.session_token);\r\n                })\r\n            }\r\n        }, 5000);\r\n\r\n\r\n    }\r\n    getAnotherTokenLife() {\r\n        var email;\r\n        var passWord;\r\n        this.storage.get('DF_EMAIL').then((val) => {\r\n            console.log(\"splash df email\", val)\r\n            email = val;\r\n        });\r\n        this.storage.get('DF_PASSWORD').then((val) => {\r\n            console.log(\"splash df password\", val)\r\n            passWord = val;\r\n        });\r\n        setTimeout(() => {\r\n            if (email) {\r\n                this.authSrv.getJWTToken(email, passWord).subscribe((successData) => {\r\n                    console.log(\"retrived the new data for JWT\", successData)\r\n                    this.storage.set('session_ID', CommonService.sessionId);\r\n                    this.storage.set('user_session_token', successData.session_token);\r\n                    this.storage.set('user_session_id', successData.session_id);\r\n\r\n                })\r\n            }\r\n        }, 5000);\r\n    }\r\n    ionViewWillEnter() {\r\n        console.log(\"ionViewWillEnter in home page\")\r\n        this.commonSrv.trackSegmentPage(\"Home\", \"HomePage\").subscribe(\r\n            data => {\r\n                console.log(\"track segment called\");\r\n            },\r\n            err => {\r\n            },\r\n            () => { }\r\n        );\r\n    }\r\n\r\n    closeMenu1() {\r\n        this.menu.close();\r\n        this.srvHome.getHomeMessages().take(1).subscribe((data) => {\r\n            this.zone.run(() => {\r\n                this.homeMessage = data.response[0].get_home_message.response;\r\n                this.params.setUnreadCount(this.homeMessage.count);\r\n            });\r\n\r\n        }, (err) => {\r\n            console.log(\"onOpenRightMenu error \", err);\r\n        })\r\n    }\r\n\r\n    onLeftMenuSelection(selection) {\r\n        console.log(\"HomePage::onLeftMenuSelection\");\r\n        this.appSound.play('menuClick');\r\n        this.menu.close();\r\n        switch (selection) {\r\n            case 'accounts':\r\n                this.params.goPage('AccountPage')\r\n                break\r\n            case 'check_winnings':\r\n                this.params.goPage('CheckWinningsPage')\r\n                break\r\n            case 'your_badges':\r\n                this.params.goPage('BadgesPage')\r\n                break\r\n            case 'your_vouchers':\r\n                this.params.goPage('YourVouchersPage')\r\n                // this.navCtrl.push('voucher', { id: \"1111\" })\r\n                break\r\n            case 'prizeBreak':\r\n                this.params.goPage('PrizeBreakdownPage')\r\n                break\r\n            case 'affiliate':\r\n                this.params.goPage('AffiliatePage')\r\n                break\r\n            case 'pSyndicate':\r\n                this.params.goPage('NewSyndicatePage')\r\n                break\r\n            case 'update':\r\n                this.params.goPage('UpdatePage')\r\n                break\r\n            case 'affiliate2':\r\n                this.params.goPage('AffiliatePage2')\r\n                break\r\n            case 'prizeBreak':\r\n                this.params.goPage('prizeBreakdownPage')\r\n                break\r\n            case 'help':\r\n                this.params.goPage('HelpPage')\r\n                //   let opt:string = \"toolbarposition=top\";\r\n                // this.iab.create('https://help.lotto-social.com/hc/en-us', 'blank', opt);\r\n                break\r\n        }\r\n    }\r\n\r\n    openPage(page: PageInterface) {\r\n        this.menu.close();\r\n\r\n        if (page.index) {\r\n            this.nav.setRoot(page.component, { tabIndex: page.index });\r\n        } else {\r\n            this.nav.setRoot(page.component).catch(() => {\r\n                console.log(\"Didn't set nav root\");\r\n            });\r\n        }\r\n    }\r\n\r\n    goPage(page) {\r\n        this.menu.close();\r\n\r\n        switch (page) {\r\n            case 'create_syndicate':\r\n                this.nav.setRoot('CreateSyndicatePage');\r\n                break;\r\n\r\n            default:\r\n                // code...\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    openWebView(str: string) {\r\n        this.appSound.play('buttonClick');\r\n\r\n        // let browser = this.iab.create(CommonService.sitename + str, 'blank', opt);\r\n        const browser = cordova.InAppBrowser.open(CommonService.sitename + str, 'blank', 'location=no,toolbarposition=top');\r\n\r\n        browser.on('loadstart').subscribe(data => {\r\n            StatusBar.hide();\r\n        })\r\n        browser.on('loadstop').subscribe(data => {\r\n            StatusBar.hide()\r\n        })\r\n    }\r\n    // notification menu\r\n    onOpenRightMenu() {\r\n        this.appSound.play('menuClick');\r\n        this.zone.run(() => {\r\n            this.messageLoading = true;\r\n        });\r\n        this.srvHome.getHomeMessages().take(1).subscribe((data) => {\r\n            console.log(\"onOpenRightMenu success \", data);\r\n            this.zone.run(() => {\r\n                this.appSound.play('inbox');\r\n                var items: ItemSliding\r\n                this.messageLoading = false;\r\n                this.homeMessage = data.response[0].get_home_message.response;\r\n                this.messages = this.homeMessage.notification;\r\n                this.params.setUnreadCount(this.homeMessage.count);\r\n                if (this.homeMessage.count > 0) {\r\n                    setTimeout(() => {\r\n                        this.slideItm.setElementClass(\"active-sliding\", true);\r\n                        this.slideItm.setElementClass(\"active-slide\", true);\r\n                        this.slideItm.setElementClass(\"active-options-right\", true);\r\n                        this.Itm.setElementStyle(\"transform\", \"translate3d(-140px, 0px, 0px)\");\r\n\r\n                        //close back\r\n\r\n                        setTimeout(() => {\r\n                            this.slideItm.close();\r\n                            setTimeout(() => {\r\n                                this.slideItm.setElementClass(\"active-sliding\", false);\r\n                                this.slideItm.setElementClass(\"active-slide\", false);\r\n                                this.slideItm.setElementClass(\"active-options-right\", false);\r\n                            }, 1000);\r\n\r\n\r\n                        }, 2000);\r\n\r\n                    }, 1000);\r\n\r\n                }\r\n            });\r\n\r\n        }, (err) => {\r\n            console.log(\"onOpenRightMenu error \", err);\r\n        })\r\n    }\r\n\r\n\r\n    checkForNewRelease() {\r\n        this.commonSrv.getNewRelease().subscribe(data => {\r\n            console.log(\"checkForNewRelease\", data);\r\n\r\n            if (data.response) {\r\n                let response = data.response[0].get_new_release.response;\r\n                if (response && response.status == 'success') {\r\n                    CommonService.updateAvailable = true;\r\n                    // show update\r\n                    //this.rootPage = 'UpdatePage'\r\n                }\r\n            }\r\n\r\n            Splashscreen.hide();\r\n        },\r\n            err => {\r\n                // show offline\r\n                this.params.setIsInternetAvailable(false);\r\n            },\r\n            () => { });\r\n    }\r\n\r\n    onOpenLeftMenu() {\r\n        this.appSound.play('menuClick');\r\n        // if (localStorage.getItem(\"imageUrl\")) {\r\n        //     this.image_Data = localStorage.getItem(\"imageUrl\")\r\n        // }\r\n        // else if (this.imageUpdate != \"\") {\r\n        //     this.image_Data = this.imageUpdate\r\n        // }\r\n        // else {\r\n        //     this.image_Data = \"assets/icon/user.svg\"\r\n        // }\r\n    }\r\n\r\n    markAsRead(cardId: any, index) {\r\n        this.appSound.play('buttonClick');\r\n        var btn = document.getElementById('btnRead' + index).style.backgroundColor = 'gray'\r\n\r\n        this.srvHome.markAsRead(cardId).subscribe((data) => {\r\n            if (data) {\r\n                if (data.response[0].mark_home_inbox_message.response.status == 'SUCCESS') {\r\n                    console.log(\"msg read\")\r\n                }\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    deleteNotification(cardId: any, index) {\r\n        this.appSound.play('buttonClick');\r\n        this.srvHome.deleteMsg(cardId).subscribe((data) => {\r\n            if (data) {\r\n                if (data.response[0].delete_home_inbox_message.response.status == 'SUCCESS') {\r\n\r\n                    document.getElementById(\"delete\" + index).style.display = 'none';\r\n                }\r\n            }\r\n        }), (Err) => {\r\n            this.appSound.play('Error');\r\n\r\n        }\r\n    }\r\n\r\n    saveItem() {\r\n        console.log(\"saveItem()\");\r\n    }\r\n    alert(i: any) {\r\n        this.appSound.play('buttonClick');\r\n        let inboxPopup = this._modalCtrl.create('inboxModal', { CurrentMessage: this.messages[i] });\r\n        inboxPopup.present();\r\n    }\r\n    mgmPage() {\r\n        this.appSound.play('buttonClick');\r\n        let mgmModal = this._modalCtrl.create('referFriend');\r\n        mgmModal.present();\r\n    }\r\n    updateNick() {\r\n\r\n        if (!HomePage.userNick) {\r\n            this.nickName = this.accountDetails.nick_name\r\n            if (this.nickName == \"null\") {\r\n                this.nickName = \"\"\r\n            }\r\n        } else if (!HomePage.userNick && !this.accountDetails.nick_name) {\r\n            this.nickName = \" \"\r\n        }\r\n        else {\r\n            this.nickName = HomePage.userNick\r\n        }\r\n\r\n    }\r\n    updateCode() {\r\n\r\n        this.userCodeMgm = this.accountDetails.user_code\r\n        if (!this.userCodeMgm) {\r\n            this.userCodeMgm = \"\"\r\n        }\r\n        else if (this.userCodeMgm == \"null\") {\r\n            this.userCodeMgm = \"\";\r\n        }\r\n    }\r\n    updateProfilePic(imageUrl: any) {\r\n        if (imageUrl && imageUrl.includes('https')) {\r\n            this.image_Data = imageUrl\r\n        }\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}